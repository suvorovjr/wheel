<!DOCTYPE html>
<html lang="ru">

<head>
	<meta charset="UTF-8">
	<title>Фортуна сервиса</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet"
		integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">

	<link rel="stylesheet" href="style.css?v=9">

</head>

<body>
	<div class="deal-wheel">
		<ul class="spinner"></ul>
		<div class="ticker"></div>
		<button class="btn-spin">Что Вас ждет в 2025?</button>
	</div>


	<div class="modal fade" id="callback" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h4 class="modal-title fs-5" id="callbackModalLabel">Оставить заявку</h4> <button type="button"
						class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<form id="callback-form" method="post">
						<p class="comment"></p>
						<div class="inputs">

							<label>Ваш Email</label>
							<input id="email" type="email" name="email" placeholder="Введите ваш email" required />
							<p id="result" class="check-email"></p>

							<label>Как к вам обращаться </label>
							<input type="text" name="name" placeholder="(Имя, название компании)" required />

							<!-- В этом поле название сектора -->
							<input type="hidden" name="prize" />

							<p class="msg">Оставьте, пожалуйста, контакты, чтобы подарок от Сервизории к вам пришёл как
								можно быстрее</p>

							<button type="submit" id="submit" type="button">Оставить заявку</button>
						</div>
				</div>
				</form>
			</div>
		</div>
	</div>
	</div>
	<!-- подключаем скрипт -->
	<script src="script.js"></script>
	<script src="form.js"></script>
	<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js"
		integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
		crossorigin="anonymous"></script>
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js"
		integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V"
		crossorigin="anonymous"></script>
	<script>

		const validateEmail = (email) => {
			return email.match(
				/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/
			);
		};

		const validate = () => {
			const $result = $('#result');
			const $submit = $('#submit');
			const email = $('#email').val();
			$result.text('');

			if (validateEmail(email)) {
				/*$result.text(email + ' is valid.');
				$result.css('color', 'green');*/
				$submit.css('cursor', 'pointer');
				$submit.css('pointer-events', 'all');
			} else {
				/*	$result.text(email + ' is invalid.');
					$result.css('color', 'red');*/
				$submit.css('cursor', 'not-allowed');
				$submit.css('pointer-events', 'none');

			}
			return false;
		}

		$('#email').on('input', validate);

		$("#callback form button[type=button]").on("click", function (event) {




			$('#callback form input').each(function () {

				if (!$(this).val()) {
					$(this).addClass('error');
				} else {
					$(this).removeClass('error');
				}

				if ($("#callback form input.error").length == 0) {

					$('.inputs').hide();
					$('.comment').hide();
					$('.thank-text').show();

				} else {
					/* $('.show-error').show();*/

				}

			});

		});
	</script>

	<script src="script.js?v=3"></script>
	<link href="https://cdn.jsdelivr.net/gh/Alaev-Co/snowflakes/dist/snow.min.css" rel="stylesheet">
	<script src="https://cdn.jsdelivr.net/gh/Alaev-Co/snowflakes/dist/Snow.min.js"></script>
	<script>
		new Snow();
	</script>
</body>

</html>
